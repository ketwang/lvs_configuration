CREATE TABLE `lvs` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `vip_name` varchar(255) NOT NULL COMMENT 'vip名称',
  `vip` varchar(128) NOT NULL COMMENT '虚拟IP',
  `vport` varchar(128) NOT NULL COMMENT '虚拟port',
  `protocol` varchar(8) NOT NULL DEFAULT 'TCP' COMMENT '转发的协议类型',
  `lb_kind` varchar(8) NOT NULL DEFAULT 'FNAT' COMMENT '负载均衡模式',
  `lb_algo` varchar(128) NOT NULL DEFAULT 'rr' COMMENT '负载均衡算法',
  `delay_loop` varchar(8) NOT NULL COMMENT '健康检查时间间隔',
  `check_type` varchar(8) NOT NULL COMMENT '健康检查类型',
  `url_path` varchar(255) DEFAULT NULL COMMENT '在check_type为http时有效',
  `url_status_code` varchar(8) DEFAULT '200' COMMENT '在check_type为http时有效',
  `connect_timeout` varchar(8) NOT NULL COMMENT '连接超时时间',
  `nb_get_retry` varchar(8) NOT NULL COMMENT '健康检查重试次数',
  `delay_before_retry` varchar(8) NOT NULL COMMENT '重试之前等待的时间',
  `rs_cluster_id` int(11) NOT NULL COMMENT '关联的后端服务集群',
  `in_use` varchar(8) NOT NULL COMMENT '是否启用了这个VIP',
  `environment_type` varchar(8) NOT NULL COMMENT '指示线上、预发、或者生成环境',
  `rs_cluster_port` varchar(8) NOT NULL COMMENT '关联的后端服务集群的port',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_vip_vport_protocol` (`vip`,`vport`,`protocol`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8
